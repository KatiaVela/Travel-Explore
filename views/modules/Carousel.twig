{% if data.type_selector == 'post' %}
    {% set args = {
        post_type: 'post',
        posts_per_page: 6,
        orderby: 'date',
        order: 'DESC'
    } %}
{% elseif data.type_selector == 'page' %}
    {% set args = {
        post_type: 'page',
        posts_per_page: 6,
        orderby: 'date',
        order: 'DESC'
    } %}
{% endif %}

{% set carousel_slides = fn('Timber::get_posts', args) %}

{% if carousel_slides %}
    <section class="carousel-module w-full">
        <div class="swiper-container carousel w-full h-full">
            <div class="swiper-wrapper flex">
                {% for post in carousel_slides %}
                    <div class="swiper-slide carousel-slide" style="background-image: url('{{ post.thumbnail.src }}');">
                        <div class="carousel-overlay absolute inset-0 bg-black bg-opacity-50"></div>
                        <div class="carousel-content text-center text-white-99 flex flex-col justify-center items-center relative">
                            <h2 class="carousel-title text-5xl lg:text-6xl xl:text-7xl italic font-bold mb-4 text-white-99">{{ post.title }}</h2>
                            <p class="carousel-excerpt text-lg lg:text-xl mb-6 px-20 text-white-99 line-clamp-4">{{ post.excerpt }}</p>
                           <a href="{{ post.link }}" class="carousel-button py-3 px-6 transition transform hover:scale-105 hover:shadow-2xl bg-transparent backdrop-blur-md text-white-100 uppercase rounded-md text-center border border-white">Discover</a>

                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
    </section>
{% endif %}
